<%@ page import="static com.sun.xml.internal.ws.api.model.wsdl.WSDLBoundOperation.ANONYMOUS.required" %><%--
  Created by IntelliJ IDEA.
  User: 羡羡
  Date: 2021/7/6
  Time: 19:40
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>航空订票管理系统</title>
    <link rel="stylesheet" href="CSS/leftindex.css">
    <link rel="stylesheet" href="/ReservationSystem/Background/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/ReservationSystem/Background/layuiadmin/style/admin.css" media="all">
    <script src="/ReservationSystem/Background/layuiadmin/echarts.min.js" charset="utf-8"></script>
    <script src="/ReservationSystem/Background/layuiadmin/macarons.js"></script>
    <script src="/ReservationSystem/JS/jquery-1.10.2.js"></script>
    <script src="/ReservationSystem/Background/js/leftindexjs.js"></script>
    <script>
        /*第1个图表*/
        var nowtime=new Date();
        var moth=nowtime.getMonth()+1;
        var year=nowtime.getFullYear();
        function days(year,month){
            var dayCount;
            now = new Date(year,month, 0);
            dayCount = now.getDate();
            return dayCount;
        }
        var day=days(moth,year);
        var motharr=new Array();
        for(var i=0;i<day;i++){
            motharr[i]=i+1;
        }

        var time;
        if (moth >= 10) {
            time = year + "" + moth + "01";
        } else {
            time = year + "" + "0" + moth + "" + "0" + 1;
        }
        $.get("http://111.231.75.86:8000/api/provinces/CHN/FJ/daily/", function (data) {
            var sz = data;
            var se = [];
            for (var i = 0; i < sz.length; i++) {
                if (sz[i].dateId >= time) {
                    se.push(sz[i].currentConfirmedCount);
                }
            }
            /* var nowdate=new Date();
         nowdate.getMonth();*/
            // 基于准备好的dom，初始化echarts实例 上面的div
            var tubiao=echarts.init(document.getElementById('main'), 'macarons');

            // 指定图表的配置项和数据
            var option = {
                title: {
                    x:'center',
                    text: '旅客人流量'//标题
                },
                tooltip: {},
                xAxis: {
                    data: motharr
                },
                yAxis: {

                },
                series: [{
                    type: 'line',
                    data: se
                }],
                tooltip: {
                    trigger: 'item',
                    formatter: function(params)
                    {
                        return moth +'月'+params.name+ '日'+' : '+params.data+'人'; //将小数转化为百分数显示
                    }
                },
                grid:{
                    x:50,
                    y:50,
                    x2:0,
                    y2:30
                }
            };
            tubiao.setOption(option);
        })

        $.get("http://111.231.75.86:8000/api/provinces/CHN/YN/daily/", function (data) {
            var sz = data;
            var se = [];
            for (var i = 0; i < sz.length; i++) {
                if (sz[i].dateId >= time) {
                    se.push(sz[i].currentConfirmedCount);
                }
            }
            var tubiao2=echarts.init(document.getElementById('main2'), 'macarons');
            var option2 = {
                title: {
                    x:'center',
                    text: '航班销售'//标题
                },
                tooltip: {},
                xAxis: {
                    data: motharr
                },
                yAxis: {

                },
                series: [{
                    type: 'line',
                    data: se
                }],
                tooltip: {
                    trigger: 'item',
                    formatter: function(params)
                    {
                        return moth +'月'+params.name+ '日'+' : '+params.data+'元'; //将小数转化为百分数显示
                    }
                },
                grid:{
                    x:50,
                    y:50,
                    x2:0,
                    y2:30
                }
            };
            tubiao2.setOption(option2);
        })


        /*第二个图表*/

    </script>
</head>
<body>
<div id="maxdiv" >
    <div id="topdiv">
        <div id="topd1">
            <div class="divico">
                <svg t="1634121335079" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9976" width="48" height="48"><path d="M728.554442 892.168084c34.072253 0 61.693305-27.621053 61.693305-61.693305v-111.421979l-329.647158 173.115284h267.953853zM790.247747 241.690947c0-34.072253-27.621053-61.693305-61.693305-61.693305h-57.004463v63.320926a15.807326 15.807326 0 0 1-15.807326 15.807327h-23.778358a15.807326 15.807326 0 0 1-15.807327-15.807327V180.003032H252.162695v63.320926a15.807326 15.807326 0 0 1-15.807327 15.807326h-23.778357a15.807326 15.807326 0 0 1-15.807327-15.807326V180.003032H139.770611c-34.072253 0-61.693305 27.621053-61.693306 61.693305v80.745095h712.170442V241.690947zM162.368674 804.449011a34.848337 34.848337 0 0 1 9.156715-19.553011c9.922021-10.504084 27.265347-15.731874 44.145179-10.358568 29.130105 9.248337 75.382568 19.482947 110.769853 34.374063 2.462989 0.840758 5.141558 0.803032 7.5776-0.113179l85.121347-39.111411c4.214568-2.953432 10.719663-11.765221-0.269473-17.655916l-162.153095-73.21061c-9.075874-3.260632-18.3296-15.893558-3.249853-26.284463 9.582484-7.141053 19.078737-14.664758 28.892969-21.536337 8.693221-6.537432 20.959663-16.766653 36.502905-14.659368 101.295158 9.792674 202.563368 20.399158 303.863916 30.542147 1.622232 0.080842 3.244463-0.237137 4.7104-0.932379a3054.430316 3054.430316 0 0 0 160.816505-76.363453c0.657516-0.312589 1.3312-0.582063 1.988716-0.883873V338.259537H78.077305v492.215242c0 34.072253 27.621053 61.693305 61.693306 61.693305h112.273515l-81.806821-68.424758a23.498105 23.498105 0 0 1-7.868631-19.294315z" fill="#D34D5B" p-id="9977"></path><path d="M212.5824 259.131284h23.778358a15.807326 15.807326 0 0 0 15.807326-15.807326v-118.730105a15.807326 15.807326 0 0 0-15.807326-15.807327h-23.778358a15.807326 15.807326 0 0 0-15.807326 15.807327v118.730105a15.807326 15.807326 0 0 0 15.807326 15.807326zM631.969684 259.131284h23.778358a15.807326 15.807326 0 0 0 15.807326-15.807326v-118.730105a15.807326 15.807326 0 0 0-15.807326-15.807327h-23.778358a15.807326 15.807326 0 0 0-15.807326 15.807327v118.730105a15.807326 15.807326 0 0 0 15.807326 15.807326zM934.205979 581.632c-13.112589-14.449179-41.849263-28.666611-78.325221-28.030653v-0.037726a164.810105 164.810105 0 0 0-65.627621 15.144421c-0.657516 0.301811-1.3312 0.571284-1.988716 0.883874a3063.053474 3063.053474 0 0 1-160.816505 76.363452 9.868126 9.868126 0 0 1-4.7104 0.932379c-101.300547-10.142989-202.568758-20.754863-303.863916-30.542147-15.543242-2.107284-27.809684 8.121937-36.502905 14.659368-9.819621 6.866189-19.315874 14.395284-28.892969 21.536337-15.079747 10.385516-5.820632 23.023832 3.249853 26.284463l162.153095 73.210611c10.989137 5.890695 4.484042 14.697095 0.269473 17.655916l-85.121347 39.11141c-2.436042 0.916211-5.114611 0.959326-7.5776 0.113179-35.387284-14.891116-81.645137-25.131116-110.769853-34.374063-16.879832-5.367916-34.223158-0.145516-44.145179 10.358568a34.869895 34.869895 0 0 0-9.156715 19.553011 23.514274 23.514274 0 0 0 7.874021 19.294316l81.806821 68.424758 16.410947 13.726989c11.274779 9.323789 25.713179 8.008758 36.837053 7.410526 24.198737-1.385095 38.917389-2.349811 62.555621-4.467873a113.243621 113.243621 0 0 0 38.895831-11.220884c177.556211-90.365305 509.353768-268.169432 509.353769-268.169432 25.578442-15.273768 29.766063-35.419621 18.092463-47.8208z" fill="#0D3F70" p-id="9978"></path></svg>
            </div>
            <div class="divfont">
                <div data-v-777ccb68="" class="card-panel-text"> 航班总数 </div>
                <span data-v-777ccb68="" class="card-panel-num"><%=request.getSession().getAttribute("hbzs")%></span>
            </div>
        </div>
        <div id="topd2" >
            <div class="divico">
                <svg t="1634121020714" class="icon" viewBox="0 0 1654 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6522" width="48" height="48"><path d="M1532.297846 184.792615l-360.763077 120.359385L730.742154 52.066462C678.360615 26.545231 676.706462 22.055385 638.739692 34.737231l-161.792 54.114461c-50.254769 16.384-27.254154 34.185846 45.843693 118.232616l216.536615 242.215384-572.494769 190.936616c55.926154 10.476308 397.233231 48.049231 475.923692 21.976615l944.994462-315.234461c45.449846-14.966154 69.553231-63.645538 54.272-108.465231a86.646154 86.646154 0 0 0-109.725539-53.720616zM448.196923 508.061538L260.253538 402.510769c-55.689846-32.137846-77.666462-32.689231-163.524923-3.780923l-88.536615 29.932308L167.857231 602.584615l280.418461-94.523077z" fill="#429EE5" p-id="6523"></path></svg>
            </div>
            <div class="divfont">
                <div data-v-777ccb68="" class="card-panel-text"> 今日起飞 </div>
                <span data-v-777ccb68="" class="card-panel-num"><%=request.getSession().getAttribute("jrqf")%></span>
            </div>
        </div>
        <div id="topd3">
            <div class="divico">
                <svg t="1634121190612" class="icon" viewBox="0 0 1052 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6972" width="48" height="48"><path d="M131.697778 17.464889c-24.689778 21.504-29.098667 64.796444-41.984 97.962667-11.320889 29.013333-45.681778 79.274667-36.010667 119.921777 21.731556 91.079111 283.534222 190.435556 383.800889 217.884445-73.528889 78.136889-207.928889 119.665778-273.834667 203.889778 27.079111 31.175111 98.275556 23.239111 135.907556 7.992888l345.827555-137.927111 71.964445 24.007111 175.900444 49.948445c21.617778 5.888 67.925333 22.755556 91.960889 10.012444 15.473778-11.292444 6.200889-50.659556 0-65.991111-18.972444-46.848-60.216889-83.512889-103.936-105.927111L215.608889 199.395556C164.693333 168.362667 219.306667 22.357333 131.669333 17.464889z m253.838222 25.998222c-11.235556 25.571556 31.345778 156.330667 41.984 187.875556l153.912889 53.987555c-35.982222-72.106667-102.684444-234.496-195.896889-241.863111zM41.728 918.983111c-16.583111 10.382222-22.584889 14.023111-29.980444 33.991111 0.739556 16.782222 5.404444 20.536889 9.984 31.971556 45.454222 27.022222 159.089778 12.003556 225.877333 12.003555h555.719111c74.865778 0 209.436444 21.447111 231.879111-33.991111-1.080889-22.641778-10.382222-38.769778-27.989333-43.946666H41.728z" fill="#35495D" p-id="6973"></path></svg>
            </div>
            <div class="divfont">
                <div data-v-777ccb68="" class="card-panel-text"> 今日出行 </div>
                <span data-v-777ccb68="" class="card-panel-num"><%=request.getSession().getAttribute("jrcx")%></span>
            </div>
        </div>
        <div id="topd4">
            <div class="divico">
                <svg t="1634121501276" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13155" width="48" height="48"><path d="M196.233887 600.241436a84.955658 84.955658 0 0 0 51.916159 39.850489 85.881319 85.881319 0 0 0 22.237261 2.956559 85.062547 85.062547 0 0 0 42.614647-11.490605l681.312735-393.352818c24.524693-14.188493 32.943299-45.554104 18.803975-70.121554l-17.102297-29.619039C953.453027 64.924593 859.390397 39.73291 785.76501 82.146605l-169.945519 98.120151L324.206096 41.218672a17.115123 17.115123 0 0 0-15.924376 0.619958l-133.295298 76.960335a17.095883 17.095883 0 0 0-8.525495 14.295382 17.112985 17.112985 0 0 0 7.674655 14.780659l232.176502 153.30071-112.569454 64.988727-137.752584-142.483508a17.112985 17.112985 0 0 0-20.88618-2.886012l-103.674121 59.858037a17.104434 17.104434 0 0 0-6.255165 23.363875z m19.832251-465.661327l101.536334-58.622397 262.263716 125.069094-140.332894 81.060609z m-75.365545 122.522989l137.73762 142.562606a17.119399 17.119399 0 0 0 20.851975 2.930906l503.574981-290.73904c57.269177-32.968952 130.419975-13.36972 163.532159 43.816083l17.102296 29.621178a17.095883 17.095883 0 0 1-6.255165 23.357461l-681.302046 393.352819A51.291925 51.291925 0 0 1 256.976969 607.131524a51.279098 51.279098 0 0 1-31.156109-23.943215l-162.471816-281.392635z m0 0" p-id="13156" fill="#2c2c2c"></path><path d="M805.161152 149.937971l59.248769-34.196042 17.093745 29.61904-59.248768 34.196041z m0 0M745.895282 184.148977l29.629728-17.102296 17.093746 29.621177-29.621178 17.102296z m0 0M686.657203 218.347157l29.619039-17.093746 17.102297 29.61904-29.629729 17.102296z m0 0M627.440501 252.543198l29.61904-17.093745 17.102296 29.61904-29.627591 17.102296z m0 0M568.191733 286.747791l29.612626-17.093745 17.093745 29.629729-29.604075 17.083056z m0 0M508.942965 320.952384l29.612626-17.093745 17.102296 29.619039-29.612626 17.093746z m0 0M449.687783 355.156977l29.61904-17.093745 17.102296 29.619039-29.629729 17.102297z m0 0M390.456117 389.36157l29.627591-17.093745 17.093745 29.619039-29.61904 17.102297z m0 0M0 952.074154h1026.137787v34.204593H0z m0 0M906.421712 490.31215h-34.204593c-0.224468 198.256234-160.894129 358.923758-359.148225 359.148226H102.613779v34.204593h410.455115c217.143582-0.24157 393.117662-176.207098 393.352818-393.352819z m0 0" p-id="13157" fill="#2c2c2c"></path><path d="M803.807933 490.31215h-34.204593c-0.158196 141.613428-114.923157 256.376251-256.534446 256.534447H34.204593v34.204593h478.864301c160.492225-0.181712 290.563741-130.244676 290.739039-290.73904z m0 0" p-id="13158" fill="#2c2c2c"></path></svg>
            </div>
            <div class="divfont">
                <div data-v-777ccb68="" class="card-panel-text"> 今日已飞 </div>
                <span data-v-777ccb68="" class="card-panel-num"><%=request.getSession().getAttribute("jryf")%></span>
            </div>
        </div>
    </div>
    <div id="tubiao">
        <div id="main"></div>
    </div>

    <div id="tubiao2">
        <div id="main2"></div>
    </div>
    <div data-v-191e1caa="" data-v-642a78b5="" class="back-to-ceiling" onclick="returntop()">
        <svg data-v-191e1caa="" width="16" height="16" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="Icon Icon-backToTopArrow" style="height: 16px; width: 16px;">
            <path data-v-191e1caa="" d="M12.036 15.59a1 1 0 0 1-.997.995H5.032a.996.996 0 0 1-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z" fill="#409eff"></path>
        </svg>
    </div>
</div>
</body>

</html>
